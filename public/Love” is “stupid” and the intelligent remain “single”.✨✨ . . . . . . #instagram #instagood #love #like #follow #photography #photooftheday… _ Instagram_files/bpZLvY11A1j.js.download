;/*FB_PKG_DELIM*/

__d("usePolarisCopyLinkDialogFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCopyLinkDialogFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},action:"THROW",path:"user"},{args:null,kind:"FragmentSpread",name:"usePolarisIsMediaShareable_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisIsMediaShareable_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisIsMediaShareable_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisIsMediaShareable",["invariant","CometRelay","PolarisPostShareUtils.next.react","react","usePolarisIsMediaShareable_media.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||d("react")).c;function a(a,c){var e=k(7);c=c===void 0?null:c;a!=null||c!=null||h(0,77597);var f=d("CometRelay").useFragment(i!==void 0?i:i=b("usePolarisIsMediaShareable_media.graphql"),a);if(a!=null&&f!=null){a=f.can_viewer_reshare;var g=f.ig_media_sharing_disabled;f=f.owner;if(f==null)return!1;var j;e[0]!==f.is_private||e[1]!==a||e[2]!==g?(j=d("PolarisPostShareUtils.next.react").getIsShareable(!!f.is_private,!!a)&&g!==!0,e[0]=f.is_private,e[1]=a,e[2]=g,e[3]=j):j=e[3];return j}if(c!=null){if(c.owner==null)return!1;g=(a=(f=c.owner)==null?void 0:f.isPrivate)!=null?a:!0;f=(j=c.viewerCanReshare)!=null?j:!1;e[4]!==g||e[5]!==f?(a=d("PolarisPostShareUtils.next.react").getIsShareable(g,f),e[4]=g,e[5]=f,e[6]=a):a=e[6];return a}return!1}g["default"]=a}),98);
__d("usePolarisCopyLinkDialog",["fbt","invariant","CometRelay","JSResourceForInteraction","PolarisClipboard","PolarisLinkBuilder","PolarisLogger","emptyFunction","getPolarisPostType.next.react","polarisGetPostFromGraphMediaInterface","react","useIGDSLazyDialog","usePolarisAnalyticsContext","usePolarisCopyLinkDialogFragment.graphql","usePolarisIsMediaShareable","usePolarisShowToast"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(k||d("react")).c,m=h._("__JHASH__7fs2sU3yagD__JHASH__");e=h._("__JHASH__mFGhEjj3kIw__JHASH__");var n=c("JSResourceForInteraction")("PolarisCopyLinkDialog.react").__setRef("usePolarisCopyLinkDialog");function o(a,b){var c=d("PolarisLinkBuilder").buildMediaLink(a);b===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS&&(c=d("PolarisLinkBuilder").buildClipsMediaLink(a));b=window.location.origin+c;return b+"?utm_source=ig_web_copy_link"}function a(a,e,f){var g=l(7),h=f===void 0?c("emptyFunction"):f;a!=null||e!=null||i(0,77596);f=d("CometRelay").useFragment(j!==void 0?j:j=b("usePolarisCopyLinkDialogFragment.graphql"),a);var k=c("usePolarisShowToast")(),p=c("usePolarisAnalyticsContext")();a=c("useIGDSLazyDialog")(n);var q=a[0];a=c("usePolarisIsMediaShareable")(f,e);if(!a)return c("emptyFunction");var r;r="";var s;s="";if(f!=null){if(f.user==null||f.code==null)return c("emptyFunction");r=d("getPolarisPostType.next.react").getPolarisPostType((a=f==null?void 0:f.media_type)!=null?a:0);s=o((a=f.code)!=null?a:"",(a=f.product_type)!=null?a:"")}else if(e!=null){if(e.owner==null||e.code==null)return c("emptyFunction");r=(f=e.productType)!=null?f:"";s=o(e.code,(a=e.productType)!=null?a:"")}else return c("emptyFunction");f=s;e=r;g[0]!==q||g[1]!==f||g[2]!==p||g[3]!==e||g[4]!==k||g[5]!==h?(a=function(){if(!d("PolarisClipboard").canCopy()){q({postUrl:s});return}var a=d("PolarisClipboard").copy(s);d("PolarisLogger").logAction("postLinkCopy",{source:p,type:r});a?(k({text:m}),h()):q({postUrl:s})},g[0]=q,g[1]=f,g[2]=p,g[3]=e,g[4]=k,g[5]=h,g[6]=a):a=g[6];f=a;return f}g.LINK_COPIED_PROMPT=m;g.COPY_LINK_TEXT=e;g.usePolarisCopyLinkDialog=a}),226);